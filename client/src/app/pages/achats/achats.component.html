<div class="row mb-4">
  <div class="col-md-12 text-center">
    <h3 class="fw-bold">
      <i class="nc-icon nc-cart-simple"></i>
      Acheter des produits
    </h3>
    <p class="text-muted">
      Choisissez vos produits et ajoutez-les à votre panier
    </p>
  </div>
</div>

<div class="row g-4">

  <div class="col-xl-3 col-lg-4 col-md-6" *ngFor="let produit of produits">
    <div class="card product-card h-100 border-0 shadow-sm">

      <!-- Image -->
      <img
        [src]="produit.image"
        class="card-img-top product-image"
        alt="Produit"
      />

      <!-- Body -->
      <div class="card-body d-flex flex-column">

        <h5 class="fw-semibold mb-1">{{ produit.nom }}</h5>

        <small class="text-muted mb-2">
          <i class="nc-icon nc-shop"></i>
          {{ produit.boutique }}
        </small>

        <h6 class="text-primary fw-bold mb-3">
          {{ produit.prix | number }} Ar
        </h6>

        <!-- Quantité -->
        <div class="d-flex align-items-center mb-3">
          <label class="me-2 text-muted">Qté</label>
          <input
            type="number"
            class="form-control form-control-sm w-50"
            [(ngModel)]="produit.quantite"
            [min]="1"
            [disabled]="produit.stock === 0"
          />
        </div>

        <!-- Stock -->
        <p class="text-muted small mb-3">
          <i class="nc-icon nc-box"></i>
          Stock disponible : <strong>{{ produit.stock }}</strong>
        </p>

        <!-- Bouton -->
        <button
          class="btn btn-dark w-100 mt-auto"
          (click)="ajouterAuPanier(produit)"
          [disabled]="produit.stock === 0"
        >
          <i class="nc-icon nc-cart-simple"></i>
          Ajouter au panier
        </button>

      </div>
    </div>
  </div>

</div>
