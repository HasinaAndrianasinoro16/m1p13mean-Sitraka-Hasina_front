<div class="container-fluid mt-4">
  <!-- LISTE DES COMMANDES -->
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body p-0">

          <!-- TABLE -->
          <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
              <thead class="table-light">
              <tr>
                <th>N° Commande</th>
                <th>Date</th>
                <th>Articles</th>
                <th>Total</th>
                <th>Statut</th>
                <th class="text-end">Actions</th>
              </tr>
              </thead>

              <tbody>

              <!-- Exemple de commande 1 -->
              <tr *ngFor="let commande of commandes">
                <td>
                  <a class="link-warning"
                     [routerLink]="['/detail-commande']"
                     [queryParams]="{id: commande._id}">
                    #{{ commande.numero }}
                  </a>
                </td>
                <td>
                  <small class="text-muted">{{ commande.createdAt | date:'d MMM y à HH:mm' }}</small>
                </td>
                <td>
                  {{ commande.itemsCount }} article(s)
                </td>
                <td>
                  <strong class="text-success">{{ commande.total | number }} Ar</strong>
                </td>
                <td>
                  <span class="badge" [ngClass]="getStatutBadgeClass(commande.statut)">
                    <i class="nc-icon" [ngClass]="getStatutIcon(commande.statut)"></i>
                    {{ getStatutTexte(commande.statut) }}
                  </span>
                </td>
                <td class="text-end"  >
                  <button
                    *ngIf="getStatutTexte(commande.statut) === 'En attente'"
                    class="btn btn-sm btn-outline-danger"
                    (click)="clickAnnulerCommande(commande._id)"
                    [disabled]="commande.statut === 'livree' || commande.statut === 'annulee'">
                    <i class="nc-icon nc-simple-remove"></i>
                    Annuler
                  </button>
                </td>
              </tr>

              </tbody>
            </table>
          </div>

          <!-- PAGINATION -->
          <nav class="p-3" *ngIf="totalPages > 1" >
            <ul class="pagination justify-content-end mb-0">
              <li class="page-item disabled" [class.disabled]="currentPage === 1" >
                <a class="page-link" (click)="goToPage(currentPage -1)" >
                  <i class="nc-icon nc-minimal-left"></i>
                  Précédent
                </a>
              </li>
              <li class="page-item active"
                  *ngFor="let p of pages"
                  [class.active]="p === currentPage"
              >
                <a class="page-link" (click)="goToPage(p)" >{{ p }}</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                <a class="page-link"  (click)="goToPage(currentPage + 1)">
                  Suivant
                  <i class="nc-icon nc-minimal-right"></i>
                </a>
              </li>
            </ul>
          </nav>

        </div>
      </div>
    </div>
  </div>

</div>
